(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{623:function(t,s,a){"use strict";a.r(s);var e=a(62),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"awk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk"}},[t._v("#")]),t._v(" awk")]),t._v(" "),a("p",[t._v("AWK 是一种处理文本文件的语言，是一个强大的文本分析工具。")]),t._v(" "),a("p",[t._v("之所以叫 AWK 是因为其取了三位创始人 Alfred Aho，Peter Weinberger, 和 Brian Kernighan 的 Family Name 的首字符。")]),t._v(" "),a("h2",{attrs:{id:"命令格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令格式"}},[t._v("#")]),t._v(" 命令格式")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("选项参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("选项参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" -f scriptfile "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("默认情况下会遍历每一行进行处理，也可以通过加入匹配规则来对指定的数据进行处理。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# BEGIN 后面大括号中的指令会在正式处理文本之前执行，对应 END 后面括号中的指令会在文本处理完之后执行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# patter 就是指定的匹配规则，默认是每一行，匹配之后会使用其后指定的 commands 去处理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在括号中，多个命令可以使用分号进行分割")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BEGIN{}patter{commands}END{}'")]),t._v(" file_name\n")])])]),a("h2",{attrs:{id:"内置变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置变量"}},[t._v("#")]),t._v(" 内置变量")]),t._v(" "),a("p",[t._v("Awk 是一种便于使用且表达能力强的程序设计语言，可应用于各种计算和数据处理任务，其中内置了一些变量。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("变量")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("$0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("整行内容")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("NF")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("当前行的经分隔符分割后的字段个数，也就是有多少列")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("$1-$n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("当前行的第 1-n 个字段")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("NR")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("当前行的行号，从 1 开始计数，多文件时会累加")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("FNR")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("多文件处理时，每个文件行号单独计数，都是从 0 开始")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("FS")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("输入分割字段符，默认以空格或 Tab 键分割")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("RS")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("输入行分隔符，默认回车换行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("OFS")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("输出字段分隔符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("ORS")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("输出行分隔符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("FILENAME")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("当前输入文件的名字")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("ARGC")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("命令行参数个数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("AGRV")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("命令行参数数组")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $0}'")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n")])])]),a("h2",{attrs:{id:"内置函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置函数"}},[t._v("#")]),t._v(" 内置函数")]),t._v(" "),a("p",[t._v("Awk 除了内置了一些变量之外，内置了一些常用的函数。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("函数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("功能")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("rand()")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回任意数字 n，其中 0 <= n < 1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("length[(String)]")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回 String 参数指定的字符串的长度（字符形式）")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print rand()}'")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.840188")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.394383")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.783099")]),t._v("\n")])])]),a("h2",{attrs:{id:"格式化输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#格式化输出"}},[t._v("#")]),t._v(" 格式化输出")]),t._v(" "),a("p",[t._v("打印输出时，"),a("code",[t._v("printf")]),t._v(" 包括一个加引号的控制串，控制串中可能嵌有若干格式说明和修饰符。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("格式符")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("用途")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("%s")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印字符串")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("%d")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印十进制数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("%f")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印一个浮点数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("%x")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印十六进制数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("%o")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印八进制数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("%e")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印数字的科学计数法形式")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("%c")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印单个字符的 ASCII 码")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打左对齐")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("+")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("右对齐")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("#")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示进制前缀")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{printf $0}'")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{printf \"%+9s\\n\",$0}'")]),t._v(" test.txt\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n")])])]),a("h2",{attrs:{id:"常用选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用选项"}},[t._v("#")]),t._v(" 常用选项")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定输入文件折分隔符(相当于内置变量 FS)，fs 是一个字符串或者是一个正则表达式，如 -F:")]),t._v("\n-F fs or --field-separator fs\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从脚本文件中读取命令")]),t._v("\n-f scripfile or --file scriptfile\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义一个 awk 变量并赋值，可以将外部变量传递给 awk")]),t._v("\n-v, --assign "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("VAR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("VAL\n")])])]),a("h2",{attrs:{id:"匹配模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#匹配模式"}},[t._v("#")]),t._v(" 匹配模式")]),t._v(" "),a("p",[t._v("匹配模式主要包含正则匹配和关系运算匹配两种。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配 /etc/passwd 文件中以 root 开头的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/^root/{print $0}'")]),t._v(" /etc/passwd\n")])])]),a("p",[t._v("常见的运算符包括：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("符号")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v(">")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("大于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("<")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("小于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("==")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("等于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("~")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("匹配指定的正则表达式")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("|")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("或")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("&")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("与")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("!")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("非")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以冒号为字段分隔符，匹配 /etc/passwd 文件中第 3 个字段大于 50 的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BEGIN{FS=\":\"}$3>50{print $0}'")]),t._v(" /etc/passwd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以冒号为字段分隔符，匹配 /etc/passwd 文件中第 3 个字段包含 3 个以上数字的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BEGIN{FS=\":\"}$3~/\\d{3,}/{print $0}'")]),t._v(" /etc/passwd\n")])])]),a("h2",{attrs:{id:"案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),a("p",[t._v("求给定数据每行的平均值。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" score.txt\nMarry   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2143")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("78")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("84")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("77")]),t._v("\nJack    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2321")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("66")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("78")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),t._v("\nTom     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2122")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("77")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("71")]),t._v("\nMike    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2537")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("87")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("97")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("95")]),t._v("\nBob     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2415")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("57")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("62")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" cal.awk\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行前")]),t._v("\nBEGIN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    math "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    english "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    computer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"---------------------------------------------'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行中")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("math")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$3")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("english")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$4")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("computer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$5")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%-6s %-6s %4d %8d %8d %8d'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$3")]),t._v(","),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$4")]),t._v(","),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$5")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$3")]),t._v("+"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$4")]),t._v("+"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行后")]),t._v("\nEND "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"---------------------------------------------'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AVERAGE:%10.2f %8.2f %8.2f'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v(", math/NR, english/NR, computer/NR\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" -f cal.awk score.txt\nNAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL\n---------------------------------------------\nMarry  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2143")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("78")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("84")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("77")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("239")]),t._v("\nJack   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2321")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("66")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("78")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("189")]),t._v("\nTom    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2122")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("77")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("71")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("196")]),t._v("\nMike   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2537")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("87")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("97")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("95")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("279")]),t._v("\nBob    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2415")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("57")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("62")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("159")]),t._v("\n---------------------------------------------\nAVERAGE:     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("63.80")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("78.60")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.00")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);