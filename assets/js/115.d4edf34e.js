(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{530:function(a,s,t){"use strict";t.r(s);var r=t(62),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"在仓库之间复用提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在仓库之间复用提交"}},[a._v("#")]),a._v(" 在仓库之间复用提交")]),a._v(" "),t("p",[a._v("如果你有两个仓库 A 和 B，现在有个需求要在这两个仓库上完成，最简单的方法是在两个仓库中分别进行开发和提交，但更简单的是我们可以在一个仓库中开发，然后在另一个仓库中直接复用。")]),a._v(" "),t("h2",{attrs:{id:"cherry-pick"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cherry-pick"}},[a._v("#")]),a._v(" cherry-pick")]),a._v(" "),t("p",[a._v("要想实现提交复用最先想到的就是 "),t("code",[a._v("cherry-pick")]),a._v(" 命令，它可以将指定的提交（commit）应用于其他分支：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" cherry-pick "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commit"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("p",[a._v("如上，它会将指定的提交应用到当前分支上，然后产生一个新的提交，就像是将其中的内容在当前工作区进行添加和提交一样。")]),a._v(" "),t("p",[a._v("如果想要同时复用多个提交，可以直接在后面继续添加，每个提交之间用空格隔开：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" cherry-pick "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commitA"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commitB"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("p",[a._v("如上，这将会将 commitA 和 commitB 对应的提交都应用在当前分支上。")]),a._v(" "),t("p",[a._v("如果要引用两个提交之间的所有提交，则可以使用下面的语法：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" cherry-pick "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commitA"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commitB"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("p",[a._v("这里的 A 应该早与 B 提交，而且应用时是不包含 A 的。你也可以通过下面的语法来包含 A 提交：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" cherry-pick "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commitA"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("^"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commitB"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"跨仓库复用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跨仓库复用"}},[a._v("#")]),a._v(" 跨仓库复用")]),a._v(" "),t("p",[a._v("现在已经可以在一个仓库中进行复用了，那么跨仓库呢？方式其实差不多的，我们只需要拿到另一个仓库的提交就可以了。")]),a._v(" "),t("p",[a._v("假设我们现在在 A 仓库中，想要引用 B 中的提交，那么就把 B 中的修改推送到远程，然后将 B 对应的远程仓库地址也在 A 中库中进行添加。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" origin_b https://repository_B_URL\n")])])]),t("p",[a._v("接着我们就可以将在 B 仓库中需要应用的提交拉取下来，假设其提交在 branch_b 分支上：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" fetch origin branch_b\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout -b branch_b origin/branch_b\n")])])]),t("p",[a._v("最后复用就跟在单仓库中一样了：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" cherry-pick branch_b\n")])])]),t("p",[a._v("试试看吧。")])])}),[],!1,null,null,null);s.default=e.exports}}]);