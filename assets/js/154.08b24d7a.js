(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{568:function(t,s,a){"use strict";a.r(s);var e=a(62),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"sed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed"}},[t._v("#")]),t._v(" sed")]),t._v(" "),a("p",[t._v("Linux sed 命令是利用脚本来处理、编辑文本文件。")]),t._v(" "),a("h2",{attrs:{id:"命令格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令格式"}},[t._v("#")]),t._v(" 命令格式")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("选项参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[pattern]script'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("选项参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" -f scriptfile "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n")])])]),a("h2",{attrs:{id:"常用选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用选项"}},[t._v("#")]),t._v(" 常用选项")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 直接在命令行以指定的 script 来处理输入的文本文件")]),t._v("\n-e"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 或 --expression"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以选项中指定的 script 文件来处理输入的文本文件")]),t._v("\n-f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 或 --file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 仅显示 script 处理后的结果")]),t._v("\n-n 或 --quiet 或 --silent\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 直接修改文件内容")]),t._v("\n-i\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 支持扩展正则表达式")]),t._v("\n-r\n")])])]),a("h2",{attrs:{id:"常用操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用操作"}},[t._v("#")]),t._v(" 常用操作")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)")]),t._v("\ni\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)")]),t._v("\na\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行")]),t._v("\nc\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取代，可以直接进行取代，通常这个 s 的动作可以搭配正规表示法，例如 1,20s/old/new/g")]),t._v("\ns\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除")]),t._v("\nd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印，亦即将某个选择的数据印出")]),t._v("\np\n")])])]),a("h2",{attrs:{id:"常用匹配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用匹配"}},[t._v("#")]),t._v(" 常用匹配")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("匹配模式")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("10command")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("匹配到第 10 行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("10,20command")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("从第 10 行开始，到底 20 行结束")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("10,+5command")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("从第 10 行开始，到第 16 行结束")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/pattern/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("匹配到匹配指定规则的行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/pattern1/,/pattern2/command")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("从匹配 /pattern1/ 的行开始，到匹配 /pattern2/ 行结束")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("10,/pattern/command")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("从第 10 行开始，到匹配 /pattern/ 的行结束")])])])]),t._v(" "),a("h2",{attrs:{id:"案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),a("p",[t._v("在第 5 行后增加一行内容：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5a6"')]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n")])])]),a("h2",{attrs:{id:"其它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[t._v("#")]),t._v(" 其它")]),t._v(" "),a("p",[t._v("由于 Mac 系统与 Linux 系统下 "),a("code",[t._v("sed")]),t._v(" 用法的差异，直接在 Mac 下使用可以回报 "),a("code",[t._v("command a expects \\ followed by text")]),t._v(" 的错误。")]),t._v(" "),a("p",[t._v("可以安装 "),a("code",[t._v("gnu-sed")]),t._v(" 命令，使其与 Linux 的一致：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("brew "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gnu-sed\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sed")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gsed\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);