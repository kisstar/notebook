(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{641:function(s,t,a){"use strict";a.r(t);var e=a(62),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[s._v("#")]),s._v(" package.json")]),s._v(" "),a("p",[s._v("每个项目的根目录下面，一般都有一个 "),a("code",[s._v("package.json")]),s._v(" 文件，其中定义了这个项目所需要的各种模块，以及项目的配置信息（比如名称、版本、许可证等元数据）。")]),s._v(" "),a("h2",{attrs:{id:"重要字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重要字段"}},[s._v("#")]),s._v(" 重要字段")]),s._v(" "),a("h3",{attrs:{id:"name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#name"}},[s._v("#")]),s._v(" name")]),s._v(" "),a("p",[s._v("指定包的名称。")]),s._v(" "),a("p",[s._v("对于一个包而言，名称和版本一起构成一个唯一的标识符。当然，如果你不打算发布包，则“名称”和“版本”字段是可选的。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pkg-name"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("而对于已经发布的包，你就可以通过包名来进行安装。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pkg-name\n")])])]),a("p",[s._v("指定包名时需要指定一些规则；")]),s._v(" "),a("ul",[a("li",[s._v("必须少于或等于 214 个字符（对于限定域的包来说包括 @scope/）。")]),s._v(" "),a("li",[s._v("不能以句点（.）或者下划线（.）开头。")]),s._v(" "),a("li",[s._v("名字里不能有大写字母。")]),s._v(" "),a("li",[s._v("必须只使用 URL 安全的字符。")])]),s._v(" "),a("p",[s._v("提示：")]),s._v(" "),a("ul",[a("li",[s._v("不要使用和 "),a("code",[s._v("Node.js")]),s._v(" 核心模块相同的名字。")]),s._v(" "),a("li",[s._v("不要在名字里包含 "),a("code",[s._v("js")]),s._v(" 或者 "),a("code",[s._v("node")]),s._v(" 单词。")]),s._v(" "),a("li",[s._v("短小精悍，让人看到名字就大概了解包的功能，记住它也会被用在 "),a("code",[s._v("require()")]),s._v(" 调用里。")]),s._v(" "),a("li",[s._v("保证名字在 "),a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("registry"),a("OutboundLink")],1),s._v(" 里是唯一的。")])]),s._v(" "),a("h3",{attrs:{id:"version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[s._v("#")]),s._v(" version")]),s._v(" "),a("p",[s._v("指定包的版本。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("指定的版本号必须可由 "),a("a",{attrs:{href:"https://github.com/isaacs/node-semver",target:"_blank",rel:"noopener noreferrer"}},[s._v("node-semver"),a("OutboundLink")],1),s._v(" 解析，它作为依赖项与 "),a("code",[s._v("npm")]),s._v(" 捆绑在一起。你也可以通过 "),a("code",[s._v("npm install semver")]),s._v(" 命令自己安装使用。")]),s._v(" "),a("p",[a("strong",[s._v("版本格式")]),s._v("：主版本号.次版本号.修订号，版本号递增规则如下：")]),s._v(" "),a("ul",[a("li",[s._v("主版本号：当你做了不兼容的 API 修改，")]),s._v(" "),a("li",[s._v("次版本号：当你做了向下兼容的功能性新增，")]),s._v(" "),a("li",[s._v("修订号：当你做了向下兼容的问题修正。")])]),s._v(" "),a("p",[a("strong",[s._v("先行版本")]),s._v("：当要发布大版本或者核心功能时，如果不能保证这个版本的功能 100% 正常就需要发布先行版本。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("alpha")]),s._v(": 内测版，可能存在较多缺陷，通常只在软件开发者内部交流使用。")]),s._v(" "),a("li",[a("strong",[s._v("beta")]),s._v(": 公测版，消除了严重错误，但还是存在少量缺陷。")]),s._v(" "),a("li",[a("strong",[s._v("rc")]),s._v("：候选版本，如果不出意外将作为稳定版本发布。")])]),s._v(" "),a("p",[s._v("在项目中安装模块时，有时会在模块版本号前面添加相应的前缀，常见的比如：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("~")]),s._v("：限定主版本号。")]),s._v(" "),a("li",[a("strong",[s._v("^")]),s._v("：限定主版本号和次版本号。")]),s._v(" "),a("li",[a("strong",[s._v(">=")]),s._v("：高于指定版本号即可。")]),s._v(" "),a("li",[a("strong",[s._v("<=")]),s._v("：低于指定版本号即可。")]),s._v(" "),a("li",[a("strong",[s._v("v1 - v2")]),s._v("：在 "),a("code",[s._v("v1")]),s._v(" 到 "),a("code",[s._v("v2")]),s._v(" 版本之间即可，左右都是闭区间。")])]),s._v(" "),a("p",[s._v("前往 "),a("a",{attrs:{href:"https://docs.npmjs.com/misc/semver",target:"_blank",rel:"noopener noreferrer"}},[s._v("semver"),a("OutboundLink")],1),s._v(" 查看更多关于版本号和范围的信息。")]),s._v(" "),a("h2",{attrs:{id:"信息类字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#信息类字段"}},[s._v("#")]),s._v(" 信息类字段")]),s._v(" "),a("h3",{attrs:{id:"description"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#description"}},[s._v("#")]),s._v(" description")]),s._v(" "),a("p",[s._v("指定描述信息。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Descriptive information"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("描述信息是帮助使用者了解包的功能的字符串，包管理器也会把这个字符串作为搜索关键词。")]),s._v(" "),a("h3",{attrs:{id:"keywords"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keywords"}},[s._v("#")]),s._v(" keywords")]),s._v(" "),a("p",[s._v("指定包的关键字。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keywords"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pkg-name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("关键字是一个字符串数组，当在包管理器里搜索包时很有用。")]),s._v(" "),a("h3",{attrs:{id:"license"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[s._v("#")]),s._v(" license")]),s._v(" "),a("p",[s._v("指定包的许可证，以便让用户了解他们是在什么授权下使用此包，以及此包还有哪些附加限制。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("该字段的值必须是以下之一：")]),s._v(" "),a("ul",[a("li",[s._v("如果你使用标准的许可证，需要一个有效地 "),a("a",{attrs:{href:"https://spdx.org/licenses/",target:"_blank",rel:"noopener noreferrer"}},[s._v("SPDX 许可证标识"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("li",[s._v("如果你用多种标准许可证，需要有效的 "),a("a",{attrs:{href:"https://www.npmjs.com/package/spdx",target:"_blank",rel:"noopener noreferrer"}},[s._v("SPDX 许可证表达式 2.0 语法表达式"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("li",[s._v("如果你使用非标准的许可证，一个 "),a("code",[s._v("SEE LICENSE IN <文件名>")]),s._v(" 字符串指向你的包里顶级目录的一个 "),a("code",[s._v("<文件名>")]),s._v("。")]),s._v(" "),a("li",[s._v("如果你不想在任何条款下授权其他人使用你的私有或未公开的包，一个 "),a("code",[s._v("UNLICENSED")]),s._v(" 字符串。")])]),s._v(" "),a("p",[s._v("那么，如何选择开源许可证？")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/images/npm/free_software_licenses.png"),alt:"licenses"}}),s._v(" "),a("h2",{attrs:{id:"链接类字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#链接类字段"}},[s._v("#")]),s._v(" 链接类字段")]),s._v(" "),a("h3",{attrs:{id:"homepage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#homepage"}},[s._v("#")]),s._v(" homepage")]),s._v(" "),a("p",[s._v("指定包的项目主页或者文档首页。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/owner/project#readme"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"bugs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bugs"}},[s._v("#")]),s._v(" bugs")]),s._v(" "),a("p",[s._v("问题反馈系统的 URL，或者是 "),a("code",[s._v("email")]),s._v(" 地址之类的链接。用户通过该途径向你反馈问题。")]),s._v(" "),a("p",[s._v("如果你只需提供 URL，可以将“bugs”的值指定为一个简单的字符串：")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bugs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/user/repo/issues"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("或者同时指定两者：")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bugs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/owner/project/issues"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"project@hostname.com"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("如果指定了 URL 的话，它将会被命令 "),a("code",[s._v("npm bugs")]),s._v(" 使用。")]),s._v(" "),a("h3",{attrs:{id:"repository"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#repository"}},[s._v("#")]),s._v(" repository")]),s._v(" "),a("p",[s._v("指定代码托管的位置。")]),s._v(" "),a("p",[s._v("如果对应的 "),a("code",[s._v("Git")]),s._v(" 仓库位于 "),a("code",[s._v("GitHub")]),s._v(" 上，那么 "),a("code",[s._v("npm docs")]),s._v(" 命令将能够找到它。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"repository"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/user/repo.git"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("如果你的 "),a("code",[s._v("package.json")]),s._v(" 文件不在你项目的根目录下时（比如同时维护多个包），还可以通过添加 "),a("code",[s._v("directory")]),s._v(" 字段来说明：")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/facebook/react.git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"directory"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"packages/react-dom"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("另外，对于在 GitHub、GitHub gist、Bitbucket 或 GitLab 的存储库，也可以使用与 "),a("code",[s._v("npm install")]),s._v(" 相同的快捷语法。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"repository"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm/npm"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"repository"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github:user/repo"')]),s._v("\n")])])]),a("h2",{attrs:{id:"项目维护类字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目维护类字段"}},[s._v("#")]),s._v(" 项目维护类字段")]),s._v(" "),a("h3",{attrs:{id:"author"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#author"}},[s._v("#")]),s._v(" author")]),s._v(" "),a("p",[s._v("指定作者信息。")]),s._v(" "),a("p",[s._v("你也可以直接指定为一个字符串，电子邮件和 URL 都是可选的：")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Barney Rubble <b@rubble.com> (http://barnyrubble.tumblr.com/)"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("或者，它可以是一个带有 “name” 字段和可选的 “url” 和 “email” 的对象。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Barney Rubble"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b@rubble.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://barnyrubble.tumblr.com/"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"contributors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contributors"}},[s._v("#")]),s._v(" contributors")]),s._v(" "),a("p",[s._v("指定贡献者信息。")]),s._v(" "),a("p",[s._v("它的值是一个数组，其中每一项的内容和 "),a("code",[s._v("author")]),s._v(" 字段的值的格式一致。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"contributors"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Your Friend"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"friend@example.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://friends-website.com"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"文件类信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件类信息"}},[s._v("#")]),s._v(" 文件类信息")]),s._v(" "),a("h3",{attrs:{id:"files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#files"}},[s._v("#")]),s._v(" files")]),s._v(" "),a("p",[s._v("指定项目作为依赖项被安装时所包含的文件。")]),s._v(" "),a("p",[s._v("在开发一个项目时，其中可能包含许多测试文件和一些开发时使用的各种配置文件，而这些文件在包发布时往往是不需要的，因此我们可以使用 "),a("code",[s._v(".npmignore")]),s._v(" 文件来指定应该忽略哪些文件。")]),s._v(" "),a("p",[a("code",[s._v(".npmignore")]),s._v(" 文件的工作方式和 "),a("code",[s._v(".gitignore")]),s._v(" 相似。当项目中不存在 "),a("code",[s._v(".npmignore")]),s._v(" 文件时，则会使用 "),a("code",[s._v(".gitignore")]),s._v(" 文件代替。")]),s._v(" "),a("p",[s._v("与 "),a("code",[s._v(".npmignore")]),s._v(" 文件相反，“files” 字段就像一个白名单，指定了哪些文件应该被包含进去。在根目录中，它比 "),a("code",[s._v(".npmignore")]),s._v(" 文件的优先级更高。")]),s._v(" "),a("p",[s._v("默认的，无论如何设置都将始终包含某些文件：")]),s._v(" "),a("ul",[a("li",[s._v("package.json")]),s._v(" "),a("li",[s._v("README")]),s._v(" "),a("li",[s._v("CHANGES / CHANGELOG / HISTORY")]),s._v(" "),a("li",[s._v("LICENSE / LICENCE")]),s._v(" "),a("li",[s._v("NOTICE")]),s._v(" "),a("li",[s._v("由 “main” 字段指定的文件")])]),s._v(" "),a("p",[s._v("相反地，一些文件则总是被忽略：")]),s._v(" "),a("ul",[a("li",[s._v(".git")]),s._v(" "),a("li",[s._v("CVS")]),s._v(" "),a("li",[s._v(".svn")]),s._v(" "),a("li",[s._v(".hg")]),s._v(" "),a("li",[s._v(".lock-wscript")]),s._v(" "),a("li",[s._v(".wafpickle-N")]),s._v(" "),a("li",[s._v(".*.swp")]),s._v(" "),a("li",[s._v(".DS_Store")]),s._v(" "),a("li",[s._v("._*")]),s._v(" "),a("li",[s._v("npm-debug.log")]),s._v(" "),a("li",[s._v(".npmrc")]),s._v(" "),a("li",[s._v("node_modules")]),s._v(" "),a("li",[s._v("config.gypi")]),s._v(" "),a("li",[s._v("*.orig")]),s._v(" "),a("li",[s._v("package-lock.json (use shrinkwrap instead)")])]),s._v(" "),a("h3",{attrs:{id:"main"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#main"}},[s._v("#")]),s._v(" main")]),s._v(" "),a("p",[s._v("指定项目的入口文件。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("假如你的包的名字是 "),a("code",[s._v("foo")]),s._v("，当用户安装它后通过 "),a("code",[s._v('require("foo")')]),s._v(" 来使用时，你指定包的入口文件中通过 "),a("code",[s._v("module.exports")]),s._v(" 导出的结果将会被返回。")]),s._v(" "),a("h3",{attrs:{id:"bin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bin"}},[s._v("#")]),s._v(" bin")]),s._v(" "),a("p",[s._v("指定随项目一起被安装的可执行文件。")]),s._v(" "),a("p",[s._v("许多包都需要将一个或多个可执行文件放在环境变量中，通过 "),a("code",[s._v("bin")]),s._v(" 字段可以很方便的实现这点，其值就是命令和本地文件的映射。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./path/to/executable_file"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("当包被全局安装时会 "),a("code",[s._v("prefix/bin")]),s._v(" 中以命令为名创建脚本文件，而对于本地安装则是创建 "),a("code",[s._v("./node_modules/.bin/")]),s._v(" 中。当脚本文件被执行时，就是自动的调用 "),a("code",[s._v("node")]),s._v(" 来执行命令对应的文件。")]),s._v(" "),a("p",[s._v("如果包只有一个命令时，可以简写（命令就是包名）：")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"command"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./path/to/executable_file"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("注意：请确保在 “bin” 字段中指定的文件的内容总是以 "),a("code",[s._v("#!/usr/bin/env node")]),s._v(" 开头，否则将不能正确的被执行。")]),s._v(" "),a("h3",{attrs:{id:"directories"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#directories"}},[s._v("#")]),s._v(" directories")]),s._v(" "),a("p",[s._v("当你的包安装时，你可以指定确切的位置来放二进制文件、man pages、文档、例子等。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"directories"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lib"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path/to/lib/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path/to/bin/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"man"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path/to/man/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"doc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path/to/doc/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"example"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path/to/example/"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"任务类字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务类字段"}},[s._v("#")]),s._v(" 任务类字段")]),s._v(" "),a("h3",{attrs:{id:"scripts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scripts"}},[s._v("#")]),s._v(" scripts")]),s._v(" "),a("p",[s._v("指定包含在包的生命周期中不同时间运行的脚本命令。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"greeting"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node hello.js"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v('在 "scripts" 字段里定义的脚本，可以通过 '),a("code",[s._v("yarn run <script>")]),s._v(" 命令来执行。")]),s._v(" "),a("p",[s._v("例如，上述 "),a("code",[s._v("hello")]),s._v(" 脚本可以通过 "),a("code",[s._v("yarn run hello")]),s._v(" 调用，并执行 "),a("code",[s._v("node hello.js")]),s._v("。")]),s._v(" "),a("p",[s._v("有一些特殊的脚本名称。如果定义了 "),a("code",[s._v("preinstall")]),s._v(" 脚本，它会在包安装前被调用。出于兼容性考虑，"),a("code",[s._v("install")]),s._v("、"),a("code",[s._v("postinstall")]),s._v(" 和 "),a("code",[s._v("prepublish")]),s._v(" 脚本会在包完成安装后被调用。")]),s._v(" "),a("p",[s._v("参阅 "),a("a",{attrs:{href:"https://docs.npmjs.com/misc/scripts",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm-scripts"),a("OutboundLink")],1),s._v(" 以了解有关编写包脚本的信息。")]),s._v(" "),a("h3",{attrs:{id:"config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config"}},[s._v("#")]),s._v(" config")]),s._v(" "),a("p",[s._v("配置你的脚本的选项或参数。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node index.js"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("例如，在入口文件中包含如下内容：")]),s._v(" "),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("npm_package_config_port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("运行命令 "),a("code",[s._v("npm run test")]),s._v(" 将会输出 8080。")]),s._v(" "),a("h2",{attrs:{id:"依赖描述类字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#依赖描述类字段"}},[s._v("#")]),s._v(" 依赖描述类字段")]),s._v(" "),a("h3",{attrs:{id:"dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dependencies"}},[s._v("#")]),s._v(" dependencies")]),s._v(" "),a("p",[s._v("指定你的包的开发版和发布版都需要的依赖。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"foo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0 - 2.9999.9999"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bar"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('">=1.0.2 <2.1.2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"baz"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('">1.0.2 <=2.3.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"boo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"qux"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<1.0.0 || >=2.3.1 <2.4.5 || >=2.5.2 <3.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"asd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://asdf.com/asdf.tar.gz"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"til"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~1.2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"elf"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~1.2.3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"two"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2.x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"thr"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.3.x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lat"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"latest"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dyl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file:../dyl"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"devdependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devdependencies"}},[s._v("#")]),s._v(" devDependencies")]),s._v(" "),a("p",[s._v("指定在你的包开发期间需要，但是生产环境不会被安装的包。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"coffee-script"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~1.6.3"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"peerdependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#peerdependencies"}},[s._v("#")]),s._v(" peerDependencies")]),s._v(" "),a("p",[s._v("平行依赖允许你说明你的包和其他包版本的兼容性。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"peerDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"tea"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2.x"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("当别人安装你的包却没有安装版本为 2.x 的 "),a("code",[s._v("tea")]),s._v(" 时，将会得到警告性的提示。")]),s._v(" "),a("h3",{attrs:{id:"bundleddependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bundleddependencies"}},[s._v("#")]),s._v(" bundledDependencies")]),s._v(" "),a("p",[s._v("指定打包依赖，发布你的包时将会一起打包的一个包名数组。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bundledDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"renderized"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"super-streams"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("请注意，包名称不包含任何版本，因为该信息是在依赖项中指定的。")]),s._v(" "),a("h3",{attrs:{id:"optionaldependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optionaldependencies"}},[s._v("#")]),s._v(" optionalDependencies")]),s._v(" "),a("p",[s._v("指定可选依赖，它们可以用于你的包，但不是必需的。如果可选包没有找到，安装还可以继续。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bundledDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[s._v("#")]),s._v(" Yarn")]),s._v(" "),a("h3",{attrs:{id:"flat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flat"}},[s._v("#")]),s._v(" flat")]),s._v(" "),a("p",[s._v("如果你的包只允许给定依赖的一个版本，你想强制和命令行上 "),a("code",[s._v("yarn install --flat")]),s._v(" 相同的行为，把这个值设为 true。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"flat"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("请注意，如果你的 "),a("code",[s._v("package.json")]),s._v(" 包含 "),a("code",[s._v('"flat": true')]),s._v(" 并且其它包依赖你的包，则其它那些包也需要在它们的 "),a("code",[s._v("package.json")]),s._v(" 加上 "),a("code",[s._v('"flat": true')]),s._v("，或者在命令行上用 "),a("code",[s._v("yarn install --flat")]),s._v(" 安装。")]),s._v(" "),a("h3",{attrs:{id:"resolutions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolutions"}},[s._v("#")]),s._v(" resolutions")]),s._v(" "),a("p",[s._v("允许您覆盖特定嵌套依赖项的版本。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"resolutions"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"transitive-package-1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.29"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"transitive-package-2"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file:./local-forks/transitive-package-2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies-package-1/transitive-package-3"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.1.1"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("有关完整规范，请参见 "),a("a",{attrs:{href:"https://github.com/yarnpkg/rfcs/blob/master/implemented/0000-selective-versions-resolutions.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("选择性版本解析 RFC"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("p",[s._v("注意，"),a("code",[s._v("yarn install --flat")]),s._v(" 命令将会自动在 "),a("code",[s._v("package.json")]),s._v(" 文件里加入 "),a("code",[s._v("resolutions")]),s._v(" 字段。")]),s._v(" "),a("h2",{attrs:{id:"系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统"}},[s._v("#")]),s._v(" 系统")]),s._v(" "),a("h3",{attrs:{id:"engines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#engines"}},[s._v("#")]),s._v(" engines")]),s._v(" "),a("p",[s._v("指定使用你的包客户必须使用的版本。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"engines"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"node"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('">=0.10.3 <0.12"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("对于这里的配置，将会检查 "),a("code",[s._v("process.versions")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"os"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os"}},[s._v("#")]),s._v(" os")]),s._v(" "),a("p",[s._v("指定你的包的操作系统兼容性，它会检查 "),a("code",[s._v("process.platform")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"os"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"darwin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linux"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"cpu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cpu"}},[s._v("#")]),s._v(" cpu")]),s._v(" "),a("p",[s._v("使用这个选项指定你的包将只能在某些 CPU 体系架构上运行，这会检查 "),a("code",[s._v("process.arch")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cpu"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"x64"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ia32"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布"}},[s._v("#")]),s._v(" 发布")]),s._v(" "),a("h3",{attrs:{id:"private"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#private"}},[s._v("#")]),s._v(" private")]),s._v(" "),a("p",[s._v("如果你不想你的包发布到包管理器，设置为 true。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"private"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("这是一种防止意外发布私有存储库的方法。")]),s._v(" "),a("h3",{attrs:{id:"publishconfig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publishconfig"}},[s._v("#")]),s._v(" publishConfig")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publishConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("这些配置值将在你的包发布时使用。比如，你可以给包打标签。")]),s._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.npmjs.com/files/package.json",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm-package.json | npm Documentation"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://classic.yarnpkg.com/zh-Hans/docs/package-json",target:"_blank",rel:"noopener noreferrer"}},[s._v("package.json | Yarn"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://javascript.ruanyifeng.com/nodejs/packagejson.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("package.json 文件 -- JavaScript 标准参考教程（alpha）"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("如何选择开源许可证？ - 阮一峰的网络日志"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://semver.org/lang/zh-CN/",target:"_blank",rel:"noopener noreferrer"}},[s._v("语义化版本 2.0.0 | Semantic Versioning"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.zcfy.cc/article/for-the-love-of-god-don-t-use-npmignore",target:"_blank",rel:"noopener noreferrer"}},[s._v("看在上帝的份上，不要使用 .npmignore - 众成翻译"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000020269384",target:"_blank",rel:"noopener noreferrer"}},[s._v("82 天突破 1000star，项目团队梳理出软件开源必须注意的 8 个方面 - 宜信技术学院 - SegmentFault 思否"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);